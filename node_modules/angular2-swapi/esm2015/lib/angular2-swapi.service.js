/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { throwError } from 'rxjs';
import { catchError, map } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
export class Angular2SwapiService {
    /**
     * @param {?} _http
     */
    constructor(_http) {
        this._http = _http;
        this.TAG = 'Angular2 Swapi Service : ';
        this.swapiUrl = 'https://swapi.co/api/';
    }
    /**
     * Add page value url param
     * @param {?} page
     * @return {?}
     */
    getByPage(page) {
        if (page) {
            return '&page=' + page;
        }
        else {
            return '';
        }
    }
    /**
     * Return list of people as observable
     * @param {?=} page
     * @return {?}
     */
    getPeople(page) {
        return this._http.get(`${this.swapiUrl}people?format=json${this.getByPage(page)}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return people by id
     * @param {?} id
     * @return {?}
     */
    getPeopleById(id) {
        return this._http.get(`${this.swapiUrl}people/${id}?format=json`)
            .pipe(catchError(this.handleError));
    }
    /**
     * Search people by name
     * @param {?} name
     * @return {?}
     */
    searchPeople(name) {
        return this._http.get(`${this.swapiUrl}people?search=${name}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return list of films as observable
     * @param {?=} page
     * @return {?}
     */
    getFilms(page) {
        return this._http.get(`${this.swapiUrl}films?format=json${this.getByPage(page)}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return film by id
     * @param {?} id
     * @return {?}
     */
    getFilm(id) {
        return this._http.get(`${this.swapiUrl}films/${id}?format=json`)
            .pipe(catchError(this.handleError));
    }
    /**
     * Search films by title
     * @param {?} title
     * @return {?}
     */
    searchFilms(title) {
        return this._http.get(`${this.swapiUrl}films?search=${title}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return list of starships
     * @param {?=} page
     * @return {?}
     */
    getStarships(page) {
        return this._http.get(`${this.swapiUrl}starships?format=json${this.getByPage(page)}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return starship by id
     * @param {?} id
     * @return {?}
     */
    getStarship(id) {
        return this._http.get(`${this.swapiUrl}starships/${id}?format=json`)
            .pipe(catchError(this.handleError));
    }
    /**
     * Search starships by name
     * @param {?} name
     * @return {?}
     */
    searchStarships(name) {
        return this._http.get(`${this.swapiUrl}starships?search=${name}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return list of vehicles as observable
     * @param {?=} page
     * @return {?}
     */
    getVehicles(page) {
        return this._http.get(`${this.swapiUrl}vehicles?format=json${this.getByPage(page)}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return vehicle by id
     * @param {?} id
     * @return {?}
     */
    getVehicle(id) {
        return this._http.get(`${this.swapiUrl}vehicles/${id}?format=json`)
            .pipe(catchError(this.handleError));
    }
    /**
     * Search vehicles by name
     * @param {?} name
     * @return {?}
     */
    searchVehicles(name) {
        return this._http.get(`${this.swapiUrl}vehicles?search=${name}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Retrun list of species as observable
     * @param {?=} page
     * @return {?}
     */
    getSpecies(page) {
        return this._http.get(`${this.swapiUrl}species?format=json${this.getByPage(page)}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return species by id
     * @param {?} id
     * @return {?}
     */
    getSpeciesById(id) {
        return this._http.get(`${this.swapiUrl}species/${id}?format=json`)
            .pipe(catchError(this.handleError));
    }
    /**
     * Search species by name
     * @param {?} name
     * @return {?}
     */
    searchSpecies(name) {
        return this._http.get(`${this.swapiUrl}species?search=${name}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     *  Return list od planets as observable
     * @param {?=} page
     * @return {?}
     */
    getPlanets(page) {
        return this._http.get(`${this.swapiUrl}planets?format=json${this.getByPage(page)}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Return planet by id
     * @param {?} id
     * @return {?}
     */
    getPlanet(id) {
        return this._http.get(`${this.swapiUrl}planets/${id}?format=json`)
            .pipe(catchError(this.handleError));
    }
    /**
     * Search planets by name
     * @param {?} name
     * @return {?}
     */
    searchPlanets(name) {
        return this._http.get(`${this.swapiUrl}planets?search=${name}`)
            .pipe(map(resp => resp['results']), catchError(this.handleError));
    }
    /**
     * Handle HTTP Errors
     * @param {?} error
     * @return {?}
     */
    handleError(error) {
        if (error.error instanceof ErrorEvent) {
            // A client-side or network error occurred. Handle it accordingly.
            console.error(`${this.TAG} An error occurred:`, error.error.message);
        }
        else {
            // The backend returned an unsuccessful response code.
            // The response body may contain clues as to what went wrong,
            console.error(`${this.TAG} Backend returned code ${error.status}, ` +
                `body was: ${error.error}`);
        }
        // return an observable with a user-facing error message
        return throwError(`${this.TAG} Something bad happened; please try again later.`);
    }
}
Angular2SwapiService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] },
];
/** @nocollapse */
Angular2SwapiService.ctorParameters = () => [
    { type: HttpClient }
];
/** @nocollapse */ Angular2SwapiService.ngInjectableDef = i0.defineInjectable({ factory: function Angular2SwapiService_Factory() { return new Angular2SwapiService(i0.inject(i1.HttpClient)); }, token: Angular2SwapiService, providedIn: "root" });
function Angular2SwapiService_tsickle_Closure_declarations() {
    /** @type {?} */
    Angular2SwapiService.prototype.TAG;
    /** @type {?} */
    Angular2SwapiService.prototype.swapiUrl;
    /** @type {?} */
    Angular2SwapiService.prototype._http;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItc3dhcGkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXIyLXN3YXBpLyIsInNvdXJjZXMiOlsibGliL2FuZ3VsYXIyLXN3YXBpLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBcUIsTUFBTSxzQkFBc0IsQ0FBQztBQUNyRSxPQUFPLEVBQWMsVUFBVSxFQUFHLE1BQU0sTUFBTSxDQUFDO0FBQy9DLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7OztBQU1qRCxNQUFNOzs7O0lBS0osWUFBb0IsS0FBaUI7UUFBakIsVUFBSyxHQUFMLEtBQUssQ0FBWTttQkFIL0IsMkJBQTJCO3dCQUN0Qix1QkFBdUI7S0FFUTs7Ozs7O0lBSzFDLFNBQVMsQ0FBQyxJQUFZO1FBQ3BCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQUU7S0FDMUQ7Ozs7OztJQUtELFNBQVMsQ0FBQyxJQUFhO1FBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLHFCQUFxQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7YUFDakYsSUFBSSxDQUNILEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUM1QixVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUM3QixDQUFDO0tBQ2I7Ozs7OztJQUtELGFBQWEsQ0FBQyxFQUFVO1FBQ3RCLE1BQU0sQ0FBQyxJQUFJLENBQUMs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LEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUM1QixVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUM3QixDQUFDO0tBQ0g7Ozs7OztJQUtPLFdBQVcsQ0FBQyxLQUF3QjtRQUMxQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxZQUFZLFVBQVUsQ0FBQyxDQUFDLENBQUM7O1lBRXRDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxxQkFBcUIsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3RFO1FBQUMsSUFBSSxDQUFDLENBQUM7OztZQUdOLE9BQU8sQ0FBQyxLQUFLLENBQ1gsR0FBRyxJQUFJLENBQUMsR0FBRywwQkFBMEIsS0FBSyxDQUFDLE1BQU0sSUFBSTtnQkFDckQsYUFBYSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUMvQjs7UUFFRCxNQUFNLENBQUMsVUFBVSxDQUNmLEdBQUcsSUFBSSxDQUFDLEdBQUcsa0RBQWtELENBQUMsQ0FBQzs7OztZQWpPcEUsVUFBVSxTQUFDO2dCQUNWLFVBQVUsRUFBRSxNQUFNO2FBQ25COzs7O1lBUFEsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBFcnJvclJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgdGhyb3dFcnJvciAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGNhdGNoRXJyb3IsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFBlb3BsZSwgRmlsbSwgU3RhcnNoaXAsIFZlaGljbGUsIFNwZWNpZXMsIFBsYW5ldCB9IGZyb20gJy4vYW5ndWxhcjItc3dhcGkubW9kZWxzJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQW5ndWxhcjJTd2FwaVNlcnZpY2Uge1xuXG4gIFRBRyA9ICdBbmd1bGFyMiBTd2FwaSBTZXJ2aWNlIDogJztcbiAgc3dhcGlVcmwgPSAnaHR0cHM6Ly9zd2FwaS5jby9hcGkvJztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9odHRwOiBIdHRwQ2xpZW50KSB7IH1cblxuICAvKipcbiAgICogQWRkIHBhZ2UgdmFsdWUgdXJsIHBhcmFtXG4gICAqL1xuICBnZXRCeVBhZ2UocGFnZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAocGFnZSkgeyByZXR1cm4gJyZwYWdlPScgKyBwYWdlOyB9IGVsc2UgeyByZXR1cm4gJyc7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gbGlzdCBvZiBwZW9wbGUgYXMgb2JzZXJ2YWJsZVxuICAgKi9cbiAgZ2V0UGVvcGxlKHBhZ2U/OiBudW1iZXIpOiBPYnNlcnZhYmxlPFBlb3BsZVtdPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFBlb3BsZVtdPihgJHt0aGlzLnN3YXBpVXJsfXBlb3BsZT9mb3JtYXQ9anNvbiR7dGhpcy5nZXRCeVBhZ2UocGFnZSl9YClcbiAgICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwKHJlc3AgPT4gcmVzcFsncmVzdWx0cyddKSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgICAgICAgICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHBlb3BsZSBieSBpZFxuICAgKi9cbiAgZ2V0UGVvcGxlQnlJZChpZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxQZW9wbGU+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8UGVvcGxlPihgJHt0aGlzLnN3YXBpVXJsfXBlb3BsZS8ke2lkfT9mb3JtYXQ9anNvbmApXG4gICAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICAgICAgICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggcGVvcGxlIGJ5IG5hbWVcbiAgICovXG4gIHNlYXJjaFBlb3BsZShuYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFBlb3BsZVtdPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFBlb3BsZVtdPihgJHt0aGlzLnN3YXBpVXJsfXBlb3BsZT9zZWFyY2g9JHtuYW1lfWApXG4gICAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICAgICAgICAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBsaXN0IG9mIGZpbG1zIGFzIG9ic2VydmFibGVcbiAgICovXG4gIGdldEZpbG1zKHBhZ2U/OiBudW1iZXIpOiBPYnNlcnZhYmxlPEZpbG1bXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxGaWxtW10+KGAke3RoaXMuc3dhcGlVcmx9ZmlsbXM/Zm9ybWF0PWpzb24ke3RoaXMuZ2V0QnlQYWdlKHBhZ2UpfWApXG4gICAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICAgICAgICAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBmaWxtIGJ5IGlkXG4gICAqL1xuICBnZXRGaWxtKGlkOiBudW1iZXIpOiBPYnNlcnZhYmxlPEZpbG0+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8RmlsbT4oYCR7dGhpcy5zd2FwaVVybH1maWxtcy8ke2lkfT9mb3JtYXQ9anNvbmApXG4gICAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICAgICAgICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggZmlsbXMgYnkgdGl0bGVcbiAgICovXG4gIHNlYXJjaEZpbG1zKHRpdGxlOiBzdHJpbmcpOiBPYnNlcnZhYmxlPEZpbG1bXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxGaWxtW10+KGAke3RoaXMuc3dhcGlVcmx9ZmlsbXM/c2VhcmNoPSR7dGl0bGV9YClcbiAgICAucGlwZShcbiAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgKTtcbiAgfVxuXG4vKipcbiAqIFJldHVybiBsaXN0IG9mIHN0YXJzaGlwc1xuICovXG5nZXRTdGFyc2hpcHMocGFnZT86IG51bWJlcik6IE9ic2VydmFibGU8U3RhcnNoaXBbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxTdGFyc2hpcFtdPihgJHt0aGlzLnN3YXBpVXJsfXN0YXJzaGlwcz9mb3JtYXQ9anNvbiR7dGhpcy5nZXRCeVBhZ2UocGFnZSl9YClcbiAgICAucGlwZShcbiAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gc3RhcnNoaXAgYnkgaWRcbiAgICovXG4gIGdldFN0YXJzaGlwKGlkOiBudW1iZXIpOiBPYnNlcnZhYmxlPFN0YXJzaGlwPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFN0YXJzaGlwPihgJHt0aGlzLnN3YXBpVXJsfXN0YXJzaGlwcy8ke2lkfT9mb3JtYXQ9anNvbmApXG4gICAgLnBpcGUoXG4gICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggc3RhcnNoaXBzIGJ5IG5hbWVcbiAgICovXG4gIHNlYXJjaFN0YXJzaGlwcyhuYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFN0YXJzaGlwW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8U3RhcnNoaXBbXT4oYCR7dGhpcy5zd2FwaVVybH1zdGFyc2hpcHM/c2VhcmNoPSR7bmFtZX1gKVxuICAgIC5waXBlKFxuICAgICAgbWFwKHJlc3AgPT4gcmVzcFsncmVzdWx0cyddKSxcbiAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBsaXN0IG9mIHZlaGljbGVzIGFzIG9ic2VydmFibGVcbiAgICovXG4gIGdldFZlaGljbGVzKHBhZ2U/OiBudW1iZXIpOiBPYnNlcnZhYmxlPFZlaGljbGVbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxWZWhpY2xlW10+KGAke3RoaXMuc3dhcGlVcmx9dmVoaWNsZXM/Zm9ybWF0PWpzb24ke3RoaXMuZ2V0QnlQYWdlKHBhZ2UpfWApXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKHJlc3AgPT4gcmVzcFsncmVzdWx0cyddKSxcbiAgICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICAgKTtcbiAgICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB2ZWhpY2xlIGJ5IGlkXG4gICAqL1xuICBnZXRWZWhpY2xlKGlkOiBudW1iZXIpOiBPYnNlcnZhYmxlPFZlaGljbGU+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8VmVoaWNsZT4oYCR7dGhpcy5zd2FwaVVybH12ZWhpY2xlcy8ke2lkfT9mb3JtYXQ9anNvbmApXG4gICAgLnBpcGUoXG4gICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggdmVoaWNsZXMgYnkgbmFtZVxuICAgKi9cbiAgc2VhcmNoVmVoaWNsZXMobmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxWZWhpY2xlW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8VmVoaWNsZVtdPihgJHt0aGlzLnN3YXBpVXJsfXZlaGljbGVzP3NlYXJjaD0ke25hbWV9YClcbiAgICAucGlwZShcbiAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRydW4gbGlzdCBvZiBzcGVjaWVzIGFzIG9ic2VydmFibGVcbiAgICovXG4gIGdldFNwZWNpZXMocGFnZT86IG51bWJlcik6IE9ic2VydmFibGU8U3BlY2llc1tdPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFNwZWNpZXNbXT4oYCR7dGhpcy5zd2FwaVVybH1zcGVjaWVzP2Zvcm1hdD1qc29uJHt0aGlzLmdldEJ5UGFnZShwYWdlKX1gKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICk7XG4gICAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gc3BlY2llcyBieSBpZFxuICAgKi9cbiAgZ2V0U3BlY2llc0J5SWQoaWQ6IG51bWJlcik6IE9ic2VydmFibGU8U3BlY2llcz4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxTcGVjaWVzPihgJHt0aGlzLnN3YXBpVXJsfXNwZWNpZXMvJHtpZH0/Zm9ybWF0PWpzb25gKVxuICAgIC5waXBlKFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIHNwZWNpZXMgYnkgbmFtZVxuICAgKi9cbiAgc2VhcmNoU3BlY2llcyhuYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFNwZWNpZXNbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxTcGVjaWVzW10+KGAke3RoaXMuc3dhcGlVcmx9c3BlY2llcz9zZWFyY2g9JHtuYW1lfWApXG4gICAgLnBpcGUoXG4gICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogIFJldHVybiBsaXN0IG9kIHBsYW5ldHMgYXMgb2JzZXJ2YWJsZVxuICAgKi9cbiAgZ2V0UGxhbmV0cyhwYWdlPzogbnVtYmVyKTogT2JzZXJ2YWJsZTxQbGFuZXRbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxQbGFuZXRbXT4oYCR7dGhpcy5zd2FwaVVybH1wbGFuZXRzP2Zvcm1hdD1qc29uJHt0aGlzLmdldEJ5UGFnZShwYWdlKX1gKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHBsYW5ldCBieSBpZFxuICAgKi9cbiAgZ2V0UGxhbmV0KGlkOiBudW1iZXIpOiBPYnNlcnZhYmxlPFBsYW5ldD4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxQbGFuZXQ+KGAke3RoaXMuc3dhcGlVcmx9cGxhbmV0cy8ke2lkfT9mb3JtYXQ9anNvbmApXG4gICAgICAucGlwZShcbiAgICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggcGxhbmV0cyBieSBuYW1lXG4gICAqL1xuICBzZWFyY2hQbGFuZXRzKG5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8UGxhbmV0W10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8UGxhbmV0W10+KGAke3RoaXMuc3dhcGlVcmx9cGxhbmV0cz9zZWFyY2g9JHtuYW1lfWApXG4gICAgLnBpcGUoXG4gICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIEhUVFAgRXJyb3JzXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBIdHRwRXJyb3JSZXNwb25zZSkge1xuICAgIGlmIChlcnJvci5lcnJvciBpbnN0YW5jZW9mIEVycm9yRXZlbnQpIHtcbiAgICAgIC8vIEEgY2xpZW50LXNpZGUgb3IgbmV0d29yayBlcnJvciBvY2N1cnJlZC4gSGFuZGxlIGl0IGFjY29yZGluZ2x5LlxuICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLlRBR30gQW4gZXJyb3Igb2NjdXJyZWQ6YCwgZXJyb3IuZXJyb3IubWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBiYWNrZW5kIHJldHVybmVkIGFuIHVuc3VjY2Vzc2Z1bCByZXNwb25zZSBjb2RlLlxuICAgICAgLy8gVGhlIHJlc3BvbnNlIGJvZHkgbWF5IGNvbnRhaW4gY2x1ZXMgYXMgdG8gd2hhdCB3ZW50IHdyb25nLFxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYCR7dGhpcy5UQUd9IEJhY2tlbmQgcmV0dXJuZWQgY29kZSAke2Vycm9yLnN0YXR1c30sIGAgK1xuICAgICAgICBgYm9keSB3YXM6ICR7ZXJyb3IuZXJyb3J9YCk7XG4gICAgfVxuICAgIC8vIHJldHVybiBhbiBvYnNlcnZhYmxlIHdpdGggYSB1c2VyLWZhY2luZyBlcnJvciBtZXNzYWdlXG4gICAgcmV0dXJuIHRocm93RXJyb3IoXG4gICAgICBgJHt0aGlzLlRBR30gU29tZXRoaW5nIGJhZCBoYXBwZW5lZDsgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5gKTtcbiAgfVxuXG59XG4iXX0=