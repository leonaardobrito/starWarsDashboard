/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { throwError } from 'rxjs';
import { catchError, map } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
var Angular2SwapiService = /** @class */ (function () {
    function Angular2SwapiService(_http) {
        this._http = _http;
        this.TAG = 'Angular2 Swapi Service : ';
        this.swapiUrl = 'https://swapi.co/api/';
    }
    /**
     * Add page value url param
     */
    /**
     * Add page value url param
     * @param {?} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getByPage = /**
     * Add page value url param
     * @param {?} page
     * @return {?}
     */
    function (page) {
        if (page) {
            return '&page=' + page;
        }
        else {
            return '';
        }
    };
    /**
     * Return list of people as observable
     */
    /**
     * Return list of people as observable
     * @param {?=} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getPeople = /**
     * Return list of people as observable
     * @param {?=} page
     * @return {?}
     */
    function (page) {
        return this._http.get(this.swapiUrl + "people?format=json" + this.getByPage(page))
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return people by id
     */
    /**
     * Return people by id
     * @param {?} id
     * @return {?}
     */
    Angular2SwapiService.prototype.getPeopleById = /**
     * Return people by id
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this._http.get(this.swapiUrl + "people/" + id + "?format=json")
            .pipe(catchError(this.handleError));
    };
    /**
     * Search people by name
     */
    /**
     * Search people by name
     * @param {?} name
     * @return {?}
     */
    Angular2SwapiService.prototype.searchPeople = /**
     * Search people by name
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this._http.get(this.swapiUrl + "people?search=" + name)
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return list of films as observable
     */
    /**
     * Return list of films as observable
     * @param {?=} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getFilms = /**
     * Return list of films as observable
     * @param {?=} page
     * @return {?}
     */
    function (page) {
        return this._http.get(this.swapiUrl + "films?format=json" + this.getByPage(page))
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return film by id
     */
    /**
     * Return film by id
     * @param {?} id
     * @return {?}
     */
    Angular2SwapiService.prototype.getFilm = /**
     * Return film by id
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this._http.get(this.swapiUrl + "films/" + id + "?format=json")
            .pipe(catchError(this.handleError));
    };
    /**
     * Search films by title
     */
    /**
     * Search films by title
     * @param {?} title
     * @return {?}
     */
    Angular2SwapiService.prototype.searchFilms = /**
     * Search films by title
     * @param {?} title
     * @return {?}
     */
    function (title) {
        return this._http.get(this.swapiUrl + "films?search=" + title)
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return list of starships
     */
    /**
     * Return list of starships
     * @param {?=} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getStarships = /**
     * Return list of starships
     * @param {?=} page
     * @return {?}
     */
    function (page) {
        return this._http.get(this.swapiUrl + "starships?format=json" + this.getByPage(page))
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return starship by id
     */
    /**
     * Return starship by id
     * @param {?} id
     * @return {?}
     */
    Angular2SwapiService.prototype.getStarship = /**
     * Return starship by id
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this._http.get(this.swapiUrl + "starships/" + id + "?format=json")
            .pipe(catchError(this.handleError));
    };
    /**
     * Search starships by name
     */
    /**
     * Search starships by name
     * @param {?} name
     * @return {?}
     */
    Angular2SwapiService.prototype.searchStarships = /**
     * Search starships by name
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this._http.get(this.swapiUrl + "starships?search=" + name)
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return list of vehicles as observable
     */
    /**
     * Return list of vehicles as observable
     * @param {?=} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getVehicles = /**
     * Return list of vehicles as observable
     * @param {?=} page
     * @return {?}
     */
    function (page) {
        return this._http.get(this.swapiUrl + "vehicles?format=json" + this.getByPage(page))
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return vehicle by id
     */
    /**
     * Return vehicle by id
     * @param {?} id
     * @return {?}
     */
    Angular2SwapiService.prototype.getVehicle = /**
     * Return vehicle by id
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this._http.get(this.swapiUrl + "vehicles/" + id + "?format=json")
            .pipe(catchError(this.handleError));
    };
    /**
     * Search vehicles by name
     */
    /**
     * Search vehicles by name
     * @param {?} name
     * @return {?}
     */
    Angular2SwapiService.prototype.searchVehicles = /**
     * Search vehicles by name
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this._http.get(this.swapiUrl + "vehicles?search=" + name)
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Retrun list of species as observable
     */
    /**
     * Retrun list of species as observable
     * @param {?=} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getSpecies = /**
     * Retrun list of species as observable
     * @param {?=} page
     * @return {?}
     */
    function (page) {
        return this._http.get(this.swapiUrl + "species?format=json" + this.getByPage(page))
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return species by id
     */
    /**
     * Return species by id
     * @param {?} id
     * @return {?}
     */
    Angular2SwapiService.prototype.getSpeciesById = /**
     * Return species by id
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this._http.get(this.swapiUrl + "species/" + id + "?format=json")
            .pipe(catchError(this.handleError));
    };
    /**
     * Search species by name
     */
    /**
     * Search species by name
     * @param {?} name
     * @return {?}
     */
    Angular2SwapiService.prototype.searchSpecies = /**
     * Search species by name
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this._http.get(this.swapiUrl + "species?search=" + name)
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     *  Return list od planets as observable
     */
    /**
     *  Return list od planets as observable
     * @param {?=} page
     * @return {?}
     */
    Angular2SwapiService.prototype.getPlanets = /**
     *  Return list od planets as observable
     * @param {?=} page
     * @return {?}
     */
    function (page) {
        return this._http.get(this.swapiUrl + "planets?format=json" + this.getByPage(page))
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Return planet by id
     */
    /**
     * Return planet by id
     * @param {?} id
     * @return {?}
     */
    Angular2SwapiService.prototype.getPlanet = /**
     * Return planet by id
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this._http.get(this.swapiUrl + "planets/" + id + "?format=json")
            .pipe(catchError(this.handleError));
    };
    /**
     * Search planets by name
     */
    /**
     * Search planets by name
     * @param {?} name
     * @return {?}
     */
    Angular2SwapiService.prototype.searchPlanets = /**
     * Search planets by name
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this._http.get(this.swapiUrl + "planets?search=" + name)
            .pipe(map(function (resp) { return resp['results']; }), catchError(this.handleError));
    };
    /**
     * Handle HTTP Errors
     * @param {?} error
     * @return {?}
     */
    Angular2SwapiService.prototype.handleError = /**
     * Handle HTTP Errors
     * @param {?} error
     * @return {?}
     */
    function (error) {
        if (error.error instanceof ErrorEvent) {
            // A client-side or network error occurred. Handle it accordingly.
            console.error(this.TAG + " An error occurred:", error.error.message);
        }
        else {
            // The backend returned an unsuccessful response code.
            // The response body may contain clues as to what went wrong,
            console.error(this.TAG + " Backend returned code " + error.status + ", " +
                ("body was: " + error.error));
        }
        // return an observable with a user-facing error message
        return throwError(this.TAG + " Something bad happened; please try again later.");
    };
    Angular2SwapiService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    Angular2SwapiService.ctorParameters = function () { return [
        { type: HttpClient }
    ]; };
    /** @nocollapse */ Angular2SwapiService.ngInjectableDef = i0.defineInjectable({ factory: function Angular2SwapiService_Factory() { return new Angular2SwapiService(i0.inject(i1.HttpClient)); }, token: Angular2SwapiService, providedIn: "root" });
    return Angular2SwapiService;
}());
export { Angular2SwapiService };
function Angular2SwapiService_tsickle_Closure_declarations() {
    /** @type {?} */
    Angular2SwapiService.prototype.TAG;
    /** @type {?} */
    Angular2SwapiService.prototype.swapiUrl;
    /** @type {?} */
    Angular2SwapiService.prototype._http;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItc3dhcGkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXIyLXN3YXBpLyIsInNvdXJjZXMiOlsibGliL2FuZ3VsYXIyLXN3YXBpLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBcUIsTUFBTSxzQkFBc0IsQ0FBQztBQUNyRSxPQUFPLEVBQWMsVUFBVSxFQUFHLE1BQU0sTUFBTSxDQUFDO0FBQy9DLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7SUFXL0MsOEJBQW9CLEtBQWlCO1FBQWpCLFVBQUssR0FBTCxLQUFLLENBQVk7bUJBSC9CLDJCQUEyQjt3QkFDdEIsdUJBQXVCO0tBRVE7SUFFMUM7O09BRUc7Ozs7OztJQUNILHdDQUFTOzs7OztJQUFULFVBQVUsSUFBWTtRQUNwQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FBRTtRQUFDLElBQUksQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUFFO0tBQzFEO0lBRUQ7O09BRUc7Ozs7OztJQUNILHdDQUFTOzs7OztJQUFULFVBQVUsSUFBYTtRQUNyQixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQWMsSUFBSSxDQUFDLFFBQVEsMEJBQXFCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFHLENBQUM7YUFDakYsSUFBSSxDQUNILEdBQUcsQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBZixDQUFlLENBQUMsRUFDNUIsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FDN0IsQ0FBQztLQUNiO0lBRUQ7O09BRUc7Ozs7OztJQUNI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TTtpQkFDbkI7Ozs7Z0JBUFEsVUFBVTs7OytCQURuQjs7U0FTYSxvQkFBb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwRXJyb3JSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE9ic2VydmFibGUsIHRocm93RXJyb3IgIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBQZW9wbGUsIEZpbG0sIFN0YXJzaGlwLCBWZWhpY2xlLCBTcGVjaWVzLCBQbGFuZXQgfSBmcm9tICcuL2FuZ3VsYXIyLXN3YXBpLm1vZGVscyc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXIyU3dhcGlTZXJ2aWNlIHtcblxuICBUQUcgPSAnQW5ndWxhcjIgU3dhcGkgU2VydmljZSA6ICc7XG4gIHN3YXBpVXJsID0gJ2h0dHBzOi8vc3dhcGkuY28vYXBpLyc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfaHR0cDogSHR0cENsaWVudCkgeyB9XG5cbiAgLyoqXG4gICAqIEFkZCBwYWdlIHZhbHVlIHVybCBwYXJhbVxuICAgKi9cbiAgZ2V0QnlQYWdlKHBhZ2U6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKHBhZ2UpIHsgcmV0dXJuICcmcGFnZT0nICsgcGFnZTsgfSBlbHNlIHsgcmV0dXJuICcnOyB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGxpc3Qgb2YgcGVvcGxlIGFzIG9ic2VydmFibGVcbiAgICovXG4gIGdldFBlb3BsZShwYWdlPzogbnVtYmVyKTogT2JzZXJ2YWJsZTxQZW9wbGVbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxQZW9wbGVbXT4oYCR7dGhpcy5zd2FwaVVybH1wZW9wbGU/Zm9ybWF0PWpzb24ke3RoaXMuZ2V0QnlQYWdlKHBhZ2UpfWApXG4gICAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICAgICAgICAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBwZW9wbGUgYnkgaWRcbiAgICovXG4gIGdldFBlb3BsZUJ5SWQoaWQ6IG51bWJlcik6IE9ic2VydmFibGU8UGVvcGxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFBlb3BsZT4oYCR7dGhpcy5zd2FwaVVybH1wZW9wbGUvJHtpZH0/Zm9ybWF0PWpzb25gKVxuICAgICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgICAgICAgICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIHBlb3BsZSBieSBuYW1lXG4gICAqL1xuICBzZWFyY2hQZW9wbGUobmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxQZW9wbGVbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxQZW9wbGVbXT4oYCR7dGhpcy5zd2FwaVVybH1wZW9wbGU/c2VhcmNoPSR7bmFtZX1gKVxuICAgICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICAgICAgICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gbGlzdCBvZiBmaWxtcyBhcyBvYnNlcnZhYmxlXG4gICAqL1xuICBnZXRGaWxtcyhwYWdlPzogbnVtYmVyKTogT2JzZXJ2YWJsZTxGaWxtW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8RmlsbVtdPihgJHt0aGlzLnN3YXBpVXJsfWZpbG1zP2Zvcm1hdD1qc29uJHt0aGlzLmdldEJ5UGFnZShwYWdlKX1gKVxuICAgICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICAgICAgICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gZmlsbSBieSBpZFxuICAgKi9cbiAgZ2V0RmlsbShpZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxGaWxtPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PEZpbG0+KGAke3RoaXMuc3dhcGlVcmx9ZmlsbXMvJHtpZH0/Zm9ybWF0PWpzb25gKVxuICAgICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgICAgICAgICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIGZpbG1zIGJ5IHRpdGxlXG4gICAqL1xuICBzZWFyY2hGaWxtcyh0aXRsZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxGaWxtW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8RmlsbVtdPihgJHt0aGlzLnN3YXBpVXJsfWZpbG1zP3NlYXJjaD0ke3RpdGxlfWApXG4gICAgLnBpcGUoXG4gICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuLyoqXG4gKiBSZXR1cm4gbGlzdCBvZiBzdGFyc2hpcHNcbiAqL1xuZ2V0U3RhcnNoaXBzKHBhZ2U/OiBudW1iZXIpOiBPYnNlcnZhYmxlPFN0YXJzaGlwW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8U3RhcnNoaXBbXT4oYCR7dGhpcy5zd2FwaVVybH1zdGFyc2hpcHM/Zm9ybWF0PWpzb24ke3RoaXMuZ2V0QnlQYWdlKHBhZ2UpfWApXG4gICAgLnBpcGUoXG4gICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHN0YXJzaGlwIGJ5IGlkXG4gICAqL1xuICBnZXRTdGFyc2hpcChpZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxTdGFyc2hpcD4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxTdGFyc2hpcD4oYCR7dGhpcy5zd2FwaVVybH1zdGFyc2hpcHMvJHtpZH0/Zm9ybWF0PWpzb25gKVxuICAgIC5waXBlKFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIHN0YXJzaGlwcyBieSBuYW1lXG4gICAqL1xuICBzZWFyY2hTdGFyc2hpcHMobmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxTdGFyc2hpcFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFN0YXJzaGlwW10+KGAke3RoaXMuc3dhcGlVcmx9c3RhcnNoaXBzP3NlYXJjaD0ke25hbWV9YClcbiAgICAucGlwZShcbiAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gbGlzdCBvZiB2ZWhpY2xlcyBhcyBvYnNlcnZhYmxlXG4gICAqL1xuICBnZXRWZWhpY2xlcyhwYWdlPzogbnVtYmVyKTogT2JzZXJ2YWJsZTxWZWhpY2xlW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8VmVoaWNsZVtdPihgJHt0aGlzLnN3YXBpVXJsfXZlaGljbGVzP2Zvcm1hdD1qc29uJHt0aGlzLmdldEJ5UGFnZShwYWdlKX1gKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcChyZXNwID0+IHJlc3BbJ3Jlc3VsdHMnXSksXG4gICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICk7XG4gICAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdmVoaWNsZSBieSBpZFxuICAgKi9cbiAgZ2V0VmVoaWNsZShpZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxWZWhpY2xlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFZlaGljbGU+KGAke3RoaXMuc3dhcGlVcmx9dmVoaWNsZXMvJHtpZH0/Zm9ybWF0PWpzb25gKVxuICAgIC5waXBlKFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIHZlaGljbGVzIGJ5IG5hbWVcbiAgICovXG4gIHNlYXJjaFZlaGljbGVzKG5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8VmVoaWNsZVtdPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFZlaGljbGVbXT4oYCR7dGhpcy5zd2FwaVVybH12ZWhpY2xlcz9zZWFyY2g9JHtuYW1lfWApXG4gICAgLnBpcGUoXG4gICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgY2F0Y2hFcnJvcih0aGlzLmhhbmRsZUVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cnVuIGxpc3Qgb2Ygc3BlY2llcyBhcyBvYnNlcnZhYmxlXG4gICAqL1xuICBnZXRTcGVjaWVzKHBhZ2U/OiBudW1iZXIpOiBPYnNlcnZhYmxlPFNwZWNpZXNbXT4ge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldDxTcGVjaWVzW10+KGAke3RoaXMuc3dhcGlVcmx9c3BlY2llcz9mb3JtYXQ9anNvbiR7dGhpcy5nZXRCeVBhZ2UocGFnZSl9YClcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgICApO1xuICAgIH1cblxuICAvKipcbiAgICogUmV0dXJuIHNwZWNpZXMgYnkgaWRcbiAgICovXG4gIGdldFNwZWNpZXNCeUlkKGlkOiBudW1iZXIpOiBPYnNlcnZhYmxlPFNwZWNpZXM+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8U3BlY2llcz4oYCR7dGhpcy5zd2FwaVVybH1zcGVjaWVzLyR7aWR9P2Zvcm1hdD1qc29uYClcbiAgICAucGlwZShcbiAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBzcGVjaWVzIGJ5IG5hbWVcbiAgICovXG4gIHNlYXJjaFNwZWNpZXMobmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxTcGVjaWVzW10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8U3BlY2llc1tdPihgJHt0aGlzLnN3YXBpVXJsfXNwZWNpZXM/c2VhcmNoPSR7bmFtZX1gKVxuICAgIC5waXBlKFxuICAgICAgbWFwKHJlc3AgPT4gcmVzcFsncmVzdWx0cyddKSxcbiAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqICBSZXR1cm4gbGlzdCBvZCBwbGFuZXRzIGFzIG9ic2VydmFibGVcbiAgICovXG4gIGdldFBsYW5ldHMocGFnZT86IG51bWJlcik6IE9ic2VydmFibGU8UGxhbmV0W10+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8UGxhbmV0W10+KGAke3RoaXMuc3dhcGlVcmx9cGxhbmV0cz9mb3JtYXQ9anNvbiR7dGhpcy5nZXRCeVBhZ2UocGFnZSl9YClcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAocmVzcCA9PiByZXNwWydyZXN1bHRzJ10pLFxuICAgICAgICBjYXRjaEVycm9yKHRoaXMuaGFuZGxlRXJyb3IpXG4gICAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBwbGFuZXQgYnkgaWRcbiAgICovXG4gIGdldFBsYW5ldChpZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxQbGFuZXQ+IHtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQ8UGxhbmV0PihgJHt0aGlzLnN3YXBpVXJsfXBsYW5ldHMvJHtpZH0/Zm9ybWF0PWpzb25gKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIHBsYW5ldHMgYnkgbmFtZVxuICAgKi9cbiAgc2VhcmNoUGxhbmV0cyhuYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFBsYW5ldFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0PFBsYW5ldFtdPihgJHt0aGlzLnN3YXBpVXJsfXBsYW5ldHM/c2VhcmNoPSR7bmFtZX1gKVxuICAgIC5waXBlKFxuICAgICAgbWFwKHJlc3AgPT4gcmVzcFsncmVzdWx0cyddKSxcbiAgICAgIGNhdGNoRXJyb3IodGhpcy5oYW5kbGVFcnJvcilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBIVFRQIEVycm9yc1xuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogSHR0cEVycm9yUmVzcG9uc2UpIHtcbiAgICBpZiAoZXJyb3IuZXJyb3IgaW5zdGFuY2VvZiBFcnJvckV2ZW50KSB7XG4gICAgICAvLyBBIGNsaWVudC1zaWRlIG9yIG5ldHdvcmsgZXJyb3Igb2NjdXJyZWQuIEhhbmRsZSBpdCBhY2NvcmRpbmdseS5cbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5UQUd9IEFuIGVycm9yIG9jY3VycmVkOmAsIGVycm9yLmVycm9yLm1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgYmFja2VuZCByZXR1cm5lZCBhbiB1bnN1Y2Nlc3NmdWwgcmVzcG9uc2UgY29kZS5cbiAgICAgIC8vIFRoZSByZXNwb25zZSBib2R5IG1heSBjb250YWluIGNsdWVzIGFzIHRvIHdoYXQgd2VudCB3cm9uZyxcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGAke3RoaXMuVEFHfSBCYWNrZW5kIHJldHVybmVkIGNvZGUgJHtlcnJvci5zdGF0dXN9LCBgICtcbiAgICAgICAgYGJvZHkgd2FzOiAke2Vycm9yLmVycm9yfWApO1xuICAgIH1cbiAgICAvLyByZXR1cm4gYW4gb2JzZXJ2YWJsZSB3aXRoIGEgdXNlci1mYWNpbmcgZXJyb3IgbWVzc2FnZVxuICAgIHJldHVybiB0aHJvd0Vycm9yKFxuICAgICAgYCR7dGhpcy5UQUd9IFNvbWV0aGluZyBiYWQgaGFwcGVuZWQ7IHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuYCk7XG4gIH1cblxufVxuIl19